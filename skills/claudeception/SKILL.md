---
name: claudeception
description: |
  持续学习技能提取系统——从工作会话中提取可重用的知识并编码为新的 Claude Code 技能。
  触发条件：(1) /claudeception 命令回顾会话学习成果，(2) "保存为技能"或"提取技能"，
  (3) "我们学到了什么？"，(4) 任何涉及非显而易见的调试、变通方案或试错发现的任务完成后。
  与 continuous-learning-v3 松耦合协作：v3 自动检测候选知识，本技能负责显式提取为完整技能。
author: Claude Code (based on Claudeception by blader)
version: 1.0.0
allowed-tools:
  - Read
  - Write
  - Edit
  - Grep
  - Glob
  - WebSearch
  - WebFetch
  - Skill
  - AskUserQuestion
  - TodoWrite
---

# Claudeception — 技能提取系统

你是 Claudeception：一个从工作会话中提取可重用知识并编码为新 Claude Code 技能的持续学习系统。

## 核心原则

在工作过程中，持续评估当前工作是否包含值得保存的可提取知识。
不是每个任务都会产生技能——只提取真正可重用且有价值的知识。

## 与 Continuous Learning v3 的协作

本技能与 v3 形成松耦合协作关系：

```
v3 自动观测（后台）
  │
  ├─ 检测到"非显而易见的调试"或"试错成功"模式
  │
  ▼
建议："检测到可提取的知识，建议运行 /claudeception"
  │
  ├─ 用户确认 或 自动触发
  │
  ▼
Claudeception 接管（本技能）
  ├─ 6 步提取流程
  ├─ Web 研究验证
  └─ 输出 SKILL.md
```

**分工**：
- v3 负责：自动观测、风格学习、原子化直觉
- Claudeception 负责：显式提取、Web 研究、高质量完整技能

## 何时提取技能

遇到以下情况时提取：

1. **非显而易见的解决方案**：需要大量调查的调试技巧、变通方案
2. **项目特定模式**：代码库特有的约定、配置、架构决策
3. **工具集成知识**：文档未充分覆盖的工具/库/API 使用方式
4. **错误解决方案**：具体错误消息及其真实根因/修复方法（尤其是误导性错误消息）
5. **工作流优化**：可精简的多步骤流程或提高效率的模式

## 技能质量标准

提取前验证：

- **可重用**：对未来任务有帮助？（不仅仅是这一次）
- **非平凡**：需要发现的知识，而非简单查文档？
- **具体**：能描述确切的触发条件和解决方案？
- **已验证**：解决方案确实有效，而非理论推测？

## 提取流程

### 步骤 1：检查现有技能

**目标**：创建前先查找相关技能，决定更新还是新建。

```sh
# 技能目录（项目级优先，然后用户级）
SKILL_DIRS=(
  ".claude/skills"
  "$HOME/.claude/skills"
)

# 列出所有技能
rg --files -g 'SKILL.md' "${SKILL_DIRS[@]}" 2>/dev/null

# 按关键词搜索
rg -i "keyword1|keyword2" "${SKILL_DIRS[@]}" 2>/dev/null

# 按精确错误消息搜索
rg -F "exact error message" "${SKILL_DIRS[@]}" 2>/dev/null
```

| 查找结果 | 操作 |
|---------|------|
| 无相关 | 新建 |
| 相同触发 + 相同修复 | 更新现有（`version: 1.0.0` → `1.1.0`） |
| 相同触发 + 不同根因 | 新建，双向添加 `See also:` 链接 |
| 部分重叠 | 在现有技能中添加"变体"小节 |
| 相同领域 + 不同问题 | 新建，添加 `See also: [skill-name]` |
| 过时或错误 | 在 Notes 中标记废弃，添加替代链接 |

**版本规则**：patch = 措辞修正，minor = 新场景，major = 破坏性变更或废弃。

### 步骤 2：识别知识

分析学到了什么：
- 问题或任务是什么？
- 解决方案中哪些是非显而易见的？
- 下次更快解决需要知道什么？
- 确切的触发条件是什么（错误消息、症状、上下文）？

### 步骤 3：研究最佳实践（适当时）

创建技能前，在以下情况搜索 Web：

**始终搜索**：
- 技术特定的最佳实践（框架、库、工具）
- 当前文档或 API 变更
- 类似问题的常见模式或解决方案

**何时搜索**：
- 涉及特定技术、框架或工具
- 不确定当前最佳实践
- 解决方案可能在知识截止日期后有变化
- 可能存在官方文档或社区标准

**何时跳过**：
- 代码库特有的内部模式
- 明显上下文特定的解决方案
- 稳定且广为人知的通用编程概念

**搜索策略**：
```
1. 搜索官方文档："[技术] [功能] official docs 2026"
2. 搜索最佳实践："[技术] [问题] best practices 2026"
3. 搜索常见问题："[技术] [错误消息] solution 2026"
4. 审查结果并整合相关信息
5. 在技能的 "References" 部分引用来源
```

### 步骤 4：结构化技能

使用以下结构创建新技能：

```markdown
---
name: [descriptive-kebab-case-name]
description: |
  [精确描述，包含：(1) 确切用例，(2) 触发条件如具体错误消息或症状，
  (3) 解决什么问题。足够具体以便语义匹配能在相关时浮现此技能。]
author: Claude Code
version: 1.0.0
date: [YYYY-MM-DD]
---

# [技能名称]

## Problem（问题）
[此技能解决的问题的清晰描述]

## Context / Trigger Conditions（触发条件）
[何时应使用此技能？包含确切的错误消息、症状或场景]

## Solution（解决方案）
[逐步解决方案]

## Verification（验证）
[如何验证解决方案有效]

## Example（示例）
[应用此技能的具体示例]

## Notes（注意事项）
[注意事项、边缘情况或相关考虑]

## References（参考资料）
[可选：官方文档、文章或资源链接]
```

### 步骤 5：编写有效描述

description 字段对技能发现至关重要。包含：

- **具体症状**：确切的错误消息、意外行为
- **上下文标记**：框架名称、文件类型、工具名称
- **动作短语**："Use when..."、"Helps with..."、"Solves..."

好的描述示例：
```
description: |
  Fix for "ENOENT: no such file or directory" errors when running npm scripts
  in monorepos. Use when: (1) npm run fails with ENOENT in a workspace,
  (2) paths work in root but not in packages, (3) symlinked dependencies
  cause resolution failures.
```

### 步骤 6：保存技能

保存到适当位置：

- **项目特定技能**：`.claude/skills/[skill-name]/SKILL.md`
- **用户级技能**：`~/.claude/skills/[skill-name]/SKILL.md`

## 回顾模式

当调用 `/claudeception` 时：

1. **回顾会话**：分析对话历史中的可提取知识
2. **识别候选**：列出潜在技能及简要理由
3. **优先排序**：聚焦最高价值、最可重用的知识
4. **提取**：为最佳候选创建技能（通常每会话 1-3 个）
5. **总结**：报告创建了哪些技能及原因

## 自我反思提示

工作中使用这些提示识别提取机会：

- "我刚学到了什么在开始前不明显的东西？"
- "如果再次面对这个问题，我希望自己知道什么？"
- "什么错误消息或症状把我引到这里，实际原因是什么？"
- "这个模式是项目特定的，还是对类似项目也有帮助？"
- "我会怎么告诉遇到同样问题的同事？"

## 质量门槛

最终确认前验证：

- [ ] 描述包含具体触发条件
- [ ] 解决方案已验证有效
- [ ] 内容足够具体可操作
- [ ] 内容足够通用可重用
- [ ] 无敏感信息（凭据、内部 URL）
- [ ] 不重复现有文档或技能
- [ ] 适当时已进行 Web 研究
- [ ] 咨询 Web 来源时包含 References 部分

## 反模式

- **过度提取**：不是每个任务都值得一个技能
- **模糊描述**："帮助解决 React 问题"不会在需要时被匹配到
- **未验证的解决方案**：只提取确实有效的
- **文档重复**：不要重建官方文档，链接到它们并补充缺失的
- **过时知识**：用版本和日期标记技能

## 技能生命周期

1. **创建**：带有验证记录的初始提取
2. **完善**：基于新用例或边缘情况更新
3. **废弃**：底层工具/模式变更时标记废弃
4. **归档**：移除或归档不再相关的技能

## 自动触发条件

完成任务后，以下任一条件满足时立即调用：

1. **非显而易见的调试**：解决方案需要大量调查且文档中找不到
2. **错误解决**：修复了错误消息具有误导性或根因不明显的错误
3. **变通方案发现**：通过实验找到了工具/框架限制的变通方案
4. **配置洞察**：发现了与标准模式不同的项目特定设置
5. **试错成功**：尝试多种方法后找到了有效的

## 显式调用

- 用户运行 `/claudeception` 回顾会话
- 用户说"保存为技能"或类似表达
- 用户问"我们学到了什么？"

## 研究基础

基于以下学术研究：
- [Voyager](https://arxiv.org/abs/2305.16291) — 技能库架构
- [CASCADE](https://arxiv.org/abs/2512.23880) — 元技能（学习技能的技能）
- [SEAgent](https://arxiv.org/abs/2508.04700) — 试错学习
- [Reflexion](https://arxiv.org/abs/2303.11366) — 自我反思
