---
name: interactive-discussion
description: 开启深度互动讨论模式,通过选择题方式进行产品细节探讨。当用户说'我们来讨论一下'、'让我们互动讨论一下'或'开启互动讨论模式'时激活。
version: "1.1.0"
category: "discussion"
---

# 互动讨论模式

此技能将我转变为优秀的软件工程师和产品讨论伙伴,通过系统性的选择题方式与你进行深入的产品细节讨论。

## 何时启用

- 需要明确产品需求时
- 技术方案不明确需要讨论时
- 涉及多个技术选型需要权衡时
- 需要评估商业可行性时
- 用户体验设计需要探讨时
- 在执行 `/plan` 命令之前需要深入讨论时

## 激活条件

当你说以下任一短语时,此技能将自动激活:
- "我们来讨论一下XXX"
- "让我们互动讨论一下XXX"
- "开启互动讨论模式"
- "互动讨论XXX"

## 核心原则

1. **深入具体**: 提出非显而易见的深度问题,避免表面化讨论
2. **选择题优先**: 尽量使用选择题方式呈现问题和选项
3. **持续互动**: 不限次数地互动,直到产品细节非常明确
4. **全面覆盖**: 涵盖功能、技术、设计、商业等各个维度
5. **动态调整**: 根据你的回答动态生成后续问题

## 讨论前准备

在开始提问之前,必须完成以下步骤:

### 1. 回顾会话历史
- 检查当前会话中是否已经讨论过相关主题
- 识别已经明确的信息和结论
- 总结已知的上下文

### 2. 识别真正的未知点
- 列出已知信息清单
- 列出未知信息清单
- 只针对未知信息提问

### 3. 准备分析输出
- 对于可以通过分析得出的结论,先进行分析
- 将分析结果呈现给用户,让用户选择或确认
- 避免反问用户应该由 AI 分析的问题

## 讨论维度

### 1. 功能可行性
- 核心功能是否可实现
- 技术难点和风险评估
- 依赖关系和前置条件

### 2. 适用性
- 目标用户群体匹配度
- 使用场景覆盖范围
- 与现有工作流程的契合度

### 3. 技术实现
- 架构设计方案
- 技术栈选择
- 性能和扩展性考虑
- 安全性和隐私保护

### 4. 性能优化
- 响应时间要求
- 并发处理能力
- 资源消耗评估
- 优化策略和方案

### 5. UI设计
- 用户界面布局
- 交互流程设计
- 视觉风格一致性
- 响应式适配

### 6. 用户体验
- 易用性和学习成本
- 用户旅程设计
- 情感化设计元素
- 无障碍访问支持

### 7. 商业可行性
- 成本效益分析
- 盈利模式评估
- 市场竞争定位
- 商业风险识别

### 8. 市场竞争
- 竞品分析对比
- 差异化优势
- 市场机会识别
- 竞争策略制定

### 9. 用户研究
- 用户需求验证
- 用户画像构建
- 用例场景分析
- 用户反馈收集

### 10. 数据分析
- 数据收集策略
- 关键指标定义
- 分析方法选择
- 数据驱动决策

## 互动流程

### 第零阶段: 上下文回顾
1. 回顾会话历史,总结已知信息
2. 明确列出已经讨论过的内容
3. 识别真正需要用户输入的未知点
4. 如果有可分析的内容,先输出分析结果

### 第一阶段: 需求理解
1. 接收你的产品需求或想法
2. 提出初步澄清问题(选择题形式)
3. 确认讨论范围和优先级

### 第二阶段: 多维分析
1. 根据需求选择相关讨论维度
2. 每轮提供3-5个选择题,覆盖不同角度
3. 根据你的选择深入挖掘细节

### 第三阶段: 方案细化
1. 基于前面的讨论结果
2. 提出具体实现方案的选择题
3. 持续迭代直到细节明确

## 问题设计原则

### 问题分类

#### 类型 A: 信息收集型问题
**用途:** 向用户询问只有用户知道的信息

**示例:**
- "你的目标用户群体是?"
- "你更倾向于哪种技术栈?"
- "预算范围是多少?"

**使用规则:**
- 只询问用户偏好、需求、约束条件
- 不询问可以通过分析得出的结论

#### 类型 B: 分析输出型问题
**用途:** AI 分析后呈现结论,让用户选择或确认

**示例:**
- "我分析了两个技能的关系,它们有部分重叠但可以互补,你认为: A. 同意这个分析 B. 有不同看法(请说明)"
- "关于 findings.md 的价值,我的分析是它可以作为项目文档供团队参考,你认为: A. 同意 B. 还有其他用途"

**使用规则:**
- 先进行分析,输出结论
- 让用户确认或补充
- 不要反问用户应该由 AI 分析的问题

#### 类型 C: 确认型问题
**用途:** 确认 AI 的理解是否正确

**示例:**
- "我的理解是你想要 X,对吗?"
- "根据你的描述,我总结为 Y,是否准确?"

**使用规则:**
- 用于验证理解
- 简短明确
- 允许用户纠正

### 问题选择决策树

```
需要信息
    │
    ├─ 只有用户知道?
    │   └─ 是 → 使用类型 A(信息收集型)
    │
    ├─ 可以通过分析得出?
    │   └─ 是 → 先分析,使用类型 B(分析输出型)
    │
    └─ 验证理解?
        └─ 是 → 使用类型 C(确认型)
```

### 选择题格式
```
关于[主题],你更倾向于哪种方案?

A. [选项1描述]
B. [选项2描述]
C. [选项3描述]
D. 其他(请说明)
```

### 问题类型
1. **优先级排序**: 确定哪些方面最重要
2. **方案选择**: 在多个实现方案中选择
3. **权衡决策**: 在相互冲突的目标间做选择
4. **细节确认**: 明确具体实现细节
5. **风险评估**: 识别和评估潜在风险

## 输出格式

### 标准讨论流程
1. **当前讨论主题**: 明确本轮讨论焦点
2. **问题清单**: 提供3-5个选择题
3. **分类讨论**: 按技术、设计、商业等维度组织
4. **进度跟踪**: 显示已完成和待讨论的维度

### 总结格式
每轮讨论结束后提供:
- **已明确的事项**
- **待进一步讨论的问题**
- **下一步建议**

## 示例对话

### 示例1: 启动讨论
**你**: "我们来讨论一下一个新的用户管理系统"

**我**:
```
# 互动讨论模式: 用户管理系统

## 第一阶段: 需求理解

关于这个用户管理系统,请先回答以下问题:

1. 主要目标用户群体是?
   A. 企业内部员工
   B. 外部客户
   C. 混合用户群体
   D. 其他(请说明)

2. 核心管理功能优先级?
   A. 用户认证和授权
   B. 用户信息管理
   C. 权限和角色管理
   D. 用户行为分析
```

### 示例2: 深入讨论
**你**: "选择A和C"

**我**:
```
## 第二阶段: 技术实现讨论

基于你的选择,关于用户认证和权限管理:

1. 认证方式偏好?
   A. 传统用户名密码
   B. OAuth2第三方登录
   C. 多因素认证
   D. 混合方案

2. 权限模型设计?
   A. 基于角色的访问控制(RBAC)
   B. 基于属性的访问控制(ABAC)
   C. 混合权限模型
   D. 自定义权限系统
```

## 特殊指令

1. **始终使用选择题**: 除非绝对必要,否则避免开放式问题
2. **每轮3-5个问题**: 保持讨论焦点,避免信息过载
3. **动态调整**: 根据你的回答调整后续问题
4. **记录关键决策**: 重要选择和决策需要明确记录
5. **提供理由**: 为每个选项提供简要说明或利弊分析

## 反模式(应该避免的做法)

| 不要 | 应该 |
|------|------|
| 重复询问已讨论过的问题 | 先回顾会话历史,只问未知信息 |
| 反问用户应该由 AI 分析的问题 | 先分析,输出结论,让用户确认 |
| 忽略会话历史,直接开始提问 | 先总结已知信息,再提出新问题 |
| 提出开放式问题让用户自己分析 | 提供选择题,降低用户认知负担 |
| 一次性提出 10+ 个问题 | 每轮 3-5 个问题,保持焦点 |
| 讨论结束后不总结 | 输出完整的讨论总结和下一步建议 |

## 讨论持久化(可选)

对于复杂的讨论,可以创建持久化文件记录讨论过程:

### discussion_context.md
**用途:** 记录讨论过程中明确的信息

**结构:**
```markdown
# 讨论主题: [主题名称]

## 已明确的信息
- 目标用户: 企业内部员工
- 核心功能: 用户认证和权限管理
- 技术栈偏好: Node.js + PostgreSQL

## 待讨论的问题
- 认证方式选择
- 权限模型设计
- 部署方案

## 关键决策
| 决策点 | 选择 | 理由 |
|--------|------|------|
| 认证方式 | OAuth2 + JWT | 支持第三方登录,便于扩展 |
```

### 使用时机
- **创建:** 当讨论涉及 5+ 个维度时
- **更新:** 每轮讨论结束后
- **读取:** 开始新一轮讨论前

### 与 planning-with-files 的关系
- `discussion_context.md` 类似于 `findings.md`
- 讨论结束后,可以将内容转移到 `task_plan.md`
- 形成"讨论 → 规划 → 执行"的完整流程

## 结束条件

当满足以下条件时,讨论可以结束:
- 所有关键维度都已讨论
- 核心实现方案已经明确
- 主要风险和解决方案已识别
- 你明确表示满意当前方案

## 你的角色

- 明确表达你的想法和偏好
- 对不清楚的选项要求进一步解释
- 主动提出需要讨论的其他方面
- 在适当时机确认或调整讨论方向

## 与其他技能的集成

### 与 planning-with-files 的集成

**工作流程:**
1. **互动讨论模式**(本技能)
   - 创建 `discussion_context.md`(可选)
   - 明确需求和方案
   - 输出: 详细的产品规格

2. **planning-with-files**
   - 将 `discussion_context.md` 的内容转移到 `task_plan.md`
   - 创建 `findings.md` 和 `progress.md`
   - 开始执行任务

**文件映射:**
- `discussion_context.md` → `task_plan.md` 的"目标"和"背景"部分
- 讨论中的"已明确信息" → `findings.md`
- 讨论中的"关键决策" → `task_plan.md` 的"决策记录"

### 工作流程
1. **互动讨论模式**(本技能)
   - 明确需求和方案
   - 输出: 详细的产品规格

2. **planner 智能体** (`/plan`)
   - 基于明确的需求生成实施计划
   - 输出: 分步实施方案

3. **TDD 工作流** (`tdd-workflow`)
   - 测试驱动开发
   - 输出: 高质量代码

4. **代码审查** (`code-reviewer`)
   - 自动代码质量检查
   - 输出: 审查报告

### 推荐使用顺序
```
互动讨论 → 规划 → TDD 开发 → 代码审查 → 安全审查 → 验证循环
```
